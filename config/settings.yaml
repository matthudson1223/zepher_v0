# Bitcoin Volatility Trading System - Configuration

# Exchange settings
exchanges:
  binance:
    enabled: false
    rate_limit: 1200  # requests per minute
    timeout: 30000    # milliseconds
  coinbase:
    enabled: false
    rate_limit: 300
    timeout: 30000
  kraken:
    enabled: true
    rate_limit: 300
    timeout: 30000

# Trading pairs
symbols:
  - BTC/USDT

# Timeframe settings
timeframes:
  default: 1d
  available:
    - 1h
    - 4h
    - 1d

# Volatility parameters
volatility:
  # Rolling window periods (in days)
  windows:
    short: 7
    medium: 30
    long: 90
  # Annualization factor (365 for crypto, 252 for stocks)
  annualization_factor: 365

# Bollinger Bands settings
bollinger:
  period: 20
  std_dev: 2.0

# ATR (Average True Range) settings
atr:
  period: 14

# Percentile ranking settings
percentile:
  lookback: 252  # ~1 year of daily data

# Database settings
database:
  path: data/btc_data.db

# Logging settings
logging:
  level: INFO
  file: logs/trading.log
  max_bytes: 10485760  # 10MB
  backup_count: 5

# Data fetching settings
data:
  # Number of candles to fetch per request
  limit: 1000
  # Default history to fetch (in days)
  default_history_days: 365

# Trading Strategy Settings
strategies:
  # Mean Reversion Strategy
  mean_reversion:
    enabled: true
    min_strength: 50.0              # Minimum signal strength (0-100)
    bb_upper_threshold: 1.0         # %B threshold for short entry
    bb_lower_threshold: 0.0         # %B threshold for long entry
    exit_target: 0.5                # %B target for exit (middle band)
    exit_tolerance: 0.1             # Tolerance around exit target
    vol_percentile_min: 80          # Minimum volatility percentile for trades
    min_bb_width: 0.02              # Minimum BB width to avoid false signals

  # Breakout Strategy
  breakout:
    enabled: true
    min_strength: 50.0
    vol_percentile_max: 20          # Maximum volatility for setup
    bb_squeeze_threshold: 0.03      # BB width threshold for squeeze detection
    volume_multiplier: 1.5          # Volume must be 1.5x average
    atr_expansion: 1.2              # ATR must expand by 20%
    profit_target_atr: 2.0          # Take profit at 2x ATR
    stop_loss_atr: 1.0              # Stop loss at 1x ATR
    lookback_period: 20             # Periods to look back for squeeze

  # Volatility Compression Strategy
  compression:
    enabled: true
    min_strength: 50.0
    compression_period: 14          # Look for 14-period squeeze
    bb_width_percentile: 10        # BB width in bottom 10% historically
    expansion_threshold: 1.5        # Exit when BB expands 50%
    max_holding_period: 20          # Maximum periods to hold position
    vol_decline_periods: 5          # Periods to check for volatility decline
    price_range_threshold: 0.02     # Maximum 2% price range for consolidation

# Signal Filtering Settings
filters:
  min_strength: 50.0                # Minimum signal strength to consider
  min_time_between_signals: 60      # Minutes between signals of same type
  max_signals_per_day: 10           # Maximum signals per trading day
  filter_conflicting: true          # Filter conflicting signals
  filter_whipsaws: true             # Filter rapid reversals
  whipsaw_window: 30                # Minutes to check for whipsaws

# Signal Validation Settings
validation:
  check_liquidity: true
  min_volume: 100000                # Minimum USD volume
  check_spread: true
  max_spread_percent: 10.0          # Maximum 10% spread (suitable for daily candles)
  check_market_hours: false         # Crypto is 24/7
  validate_indicators: true
  max_position_size: 1              # Maximum concurrent positions per strategy
